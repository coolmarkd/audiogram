#!/usr/bin/env node

// Require settings first, for validation
require("../lib/settings/");

var dotenv = require("dotenv").config({silent: true}),
    logger = require("../lib/logger/"),
    server = require("../server/");

var port = +process.argv[2] || 8888;

// Display git commit hash if available
var gitCommitHash = process.env.GIT_COMMIT_HASH;
if (gitCommitHash) {
  logger.log("Git commit hash: " + gitCommitHash);
} else {
  logger.log("Git commit hash: Not available");
}

server.listen(port);

logger.log("Listening on " + port);
